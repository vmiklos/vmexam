= openSUSE notes

== osc

- Updating a package in OBS:

osc build openSUSE_13.2
(for ARM: osc build --alternative-project=openSUSE:13.2 ports)
osc vc
osc commit

- Updating its git mirror:

cd $HOME/git/opensuse-packages
git checkout gtimelog
$HOME/git/bsgit/bsgit.py fetch home:vmiklos/gtimelog
git merge remotes/api.opensuse.org/home/vmiklos/gtimelog
git push origin

== zypper

- zypper factory bootstrap:

zypper --root /var/chroot/opensuse-factory addrepo http://download.opensuse.org/factory/repo/oss/ repo-oss
zypper --root /var/chroot/opensuse-factory install patterns-openSUSE-base

- zyp-file: https://github.com/benthaman/zyp-file

- downgrade after broken update: zypper in --oldpackage --from repo-oss pkg1 [ pkg2 ... ]

- upgrade to some package from a custom repo:

zypper -p http://download.opensuse.org/repositories/KDE:/Extra/openSUSE_13.1/ in gtk2-engine-oxygen-1.4.4-11.1.x86_64 gtk2-theme-oxygen-1.4.4-11.1.x86_64

== cubox-i

- attach screen:

screen /dev/ttyUSB0 115200

- re-generate boot.scr (in /boot):

mkimage -C none -A arm -T script -d boot.script boot.scr

- raid1 root:

edit /etc/dracut.conf.d/01-dist.conf, comment out hostonly=

- special dracut problem because the kernel version ends with "-i", just run:

dracut --force

without any parameters, and it'll work.

== Upgrade notes

=== openSUSE 13.1 -> 13.2

- virt-manager is broken by default

https://bugzilla.suse.com/show_bug.cgi?id=901869

TL;DR: zypper in typelib-1_0-Gtk-3_0 typelib-1_0-SpiceClientGtk-3_0 typelib-1_0-GtkVnc-2_0

- STL container pretty-printers do not work by default in gdb anymore (debuginfo uninstalled on upgrade?):

Can be fixed with: 'zypper in libstdc++6-debuginfo'

- virt-resize is broken by default

https://bugzilla.novell.com/show_bug.cgi?id=908632

TL;DR: zypper -p http://download.opensuse.org/repositories/Virtualization/openSUSE_13.2/ in guestfs-data-1.26.9-163.1.x86_64

=== openSUSE 13.2 -> openSUSE Factory

- cpm fails to build

https://bugzilla.novell.com/show_bug.cgi?id=918553

Fixed in <24 hours. :-)

// vim: ft=asciidoc paste
