= LO clang notes

== Generating the CSV input

For large classes, generating the CSV input may make sense if the rename logic
can be automated. E.g. making sure that all members have the `m_` prefix can
be done with this command:

----
bin/find-unprefixed-members -class-name=ns::C test.cxx --
----

Or the build system equivalent -- first touch one file that includes the class, then:

----
make -sr -j8 COMPILER_EXTERNAL_TOOL=1 CCACHE_PREFIX=find-unprefixed-members-wrapper RENAME_ARGS="-class-name=ClassName"
----

Prefix example:

----
make -sr -j8 COMPILER_EXTERNAL_TOOL=1 CCACHE_PREFIX=find-unprefixed-members-wrapper RENAME_ARGS="-class-prefix=Sw"
----

== Frequently used commandlines

Detect unprefixed members:

----
make -sr -j8 COMPILER_EXTERNAL_TOOL=1 CCACHE_PREFIX=find-unprefixed-members-wrapper RENAME_ARGS="-class-name=SdrDragView"
----

Rename them:

----
make build-nocheck COMPILER_EXTERNAL_TOOL=1 CCACHE_PREFIX=rename-wrapper RENAME_ARGS="-csv=$HOME/rename.csv"
----

// vim: ft=asciidoc
